{"version":3,"file":"filter-actions.js","sources":["../../../src/Spotlight/filter-actions/filter-actions.ts"],"sourcesContent":["import type { SpotlightAction } from '../../types';\n\nfunction getKeywords(keywords: string | string[]) {\n  if (Array.isArray(keywords)) {\n    return keywords\n      .map((keyword) => keyword.trim())\n      .join(',')\n      .toLowerCase()\n      .trim();\n  }\n\n  if (typeof keywords === 'string') {\n    return keywords.toLowerCase().trim();\n  }\n\n  return '';\n}\n\nexport function filterActions(_query: string, actions: SpotlightAction[]) {\n  const query = _query.trim().toLowerCase();\n  const priorityMatrix = [[], []];\n  actions.forEach((action) => {\n    if (action.title?.toLowerCase().includes(query)) {\n      priorityMatrix[0].push(action);\n    } else if (\n      action.description?.toLowerCase().includes(query) ||\n      getKeywords(action.keywords).includes(query)\n    ) {\n      priorityMatrix[1].push(action);\n    }\n  });\n\n  return priorityMatrix.flat();\n}\n"],"names":[],"mappings":";;;;AAAA,SAAS,WAAW,CAAC,QAAQ,EAAE;AAC/B,EAAE,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;AAC/B,IAAI,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC;AACpF,GAAG;AACH,EAAE,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;AACpC,IAAI,OAAO,QAAQ,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC;AACzC,GAAG;AACH,EAAE,OAAO,EAAE,CAAC;AACZ,CAAC;AACM,SAAS,aAAa,CAAC,MAAM,EAAE,OAAO,EAAE;AAC/C,EAAE,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;AAC5C,EAAE,MAAM,cAAc,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AAClC,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;AAC9B,IAAI,IAAI,EAAE,EAAE,EAAE,CAAC;AACf,IAAI,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;AACjF,MAAM,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACrC,KAAK,MAAM,IAAI,CAAC,CAAC,EAAE,GAAG,MAAM,CAAC,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;AAChJ,MAAM,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACrC,KAAK;AACL,GAAG,CAAC,CAAC;AACL,EAAE,OAAO,cAAc,CAAC,IAAI,EAAE,CAAC;AAC/B;;;;"}